!function(s){s.fn.customSelect=function(t){var i,e,c={classJs:void 0!==t.classJs?t.classJs:"js-bk-select",classCustomElem:void 0!==t.classCustomElem?t.classCustomElem:"bk-select_custom",classOptActive:void 0!==t.classOptActive?t.classOptActive:"bk-select__active-option",classOptList:void 0!==t.classOptList?t.classOptList:"bk-select__option-list",classOpt:void 0!==t.classOpt?t.classOpt:"bk-select__option-item",classElemActive:void 0!==t.classElemActive?t.classElemActive:"active"},l=[],a=this.find("option:selected"),n=this.removeClass(c.classJs).attr("class")+" "+c.classCustomElem,o=s('<div class="'+n+'"></div>'),d=s('<div class="'+c.classOptActive+'"></div>'),v=s('<div class="'+c.classOptList+'"></div>'),h=!1,p=this;0===this[0].selectedIndex&&s(this[0].options[0]).attr("selected","selected"),this.hide(),this.parent().append(o.append(d.html(a.html())).append(v)),this.closeList=function(){o.removeClass(c.classElemActive),h=!1},this.createOptionLlist=function(){v.empty(),l.length=0,s(this).find("option").each(function(){l.push(s(this))});for(var t=0;t<l.length;t++)l[t].data("icon")?v.append('<div class="'+c.classOpt+'"><div class="bk-item"><div class="bk-item__icon"><img src="'+l[t].data("icon")+'"></img></div><div class="bk-item__txt bk-item__txt_r-5">'+l[t].text()+"</div></div></div>"):v.append('<div class="'+c.classOpt+'">'+l[t].text()+"</div>");(i=s(this).siblings("."+c.classCustomElem).find("."+c.classOpt)).each(function(){s(this).text()===d.text()&&(e=s(this).index())}),o.find(i).on("click",function(t){return o.find(i).each(function(){s(this).show()}),s(this).hide(),d.html(s(this).html()),e=s(this).index(),a.removeAttr("selected"),l[e].attr("selected","selected"),a=l[e],p.val(l[e].val()),p.change(),p.closeList(),!1})},this.createOptionLlist(),d.on("click",function(s){h?p.closeList():(o.addClass(c.classElemActive),h=!0)}),s(document).on("click",function(s){!v.is(s.target)&&0===o.has(s.target).length&&h&&p.closeList()}),this.on("DOMSubtreeModified",function(s){p.createOptionLlist()})}}(jQuery);